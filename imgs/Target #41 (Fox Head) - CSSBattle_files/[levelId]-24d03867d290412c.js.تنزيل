(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[531],{1311:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/play/[levelId]",function(){return t(5167)}])},1551:function(e,n,t){"use strict";t.d(n,{W:function(){return c}});var s=t(2322),r=t(2784),a=t(2367),i=t(1251);function o(e){var n=e.count,t=e.label;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{className:"countdown__number",children:n}),t,1===n?"":"s"]})}function c(e){var n=e.date,t=e.prefix,c=void 0===t?"":t,l=e.suffix,d=void 0===l?"remaining":l,u=e.separator,m=void 0===u?" : ":u,h=e.hideSeconds,p=void 0!==h&&h,f=e.onFinish,g=function(){var e=Date.now();if(e>new Date(n))return clearInterval(j.current),void("function"===typeof f&&f());var t=(0,a.hM)(e,n);b(t)},v=(0,r.useState)({}),x=v[0],b=v[1],j=(0,r.useRef)();return(0,r.useEffect)((function(){g();var e=j.current=setInterval(g,1e3);return function(){clearInterval(e)}}),[n]),(0,s.jsxs)("div",{className:"countdown",children:[(0,s.jsx)(i.dy,{label:"watch",children:"\u23f0"})," ",c?" ".concat(c," "):null,x.days?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(o,{label:"day",count:x.days}),m]}):null," ",x.hours?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(o,{label:"hour",count:x.hours}),m]}):null," ",x.minutes?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(o,{label:"minute",count:x.minutes}),p?"":m]}):null," ",p?null:(0,s.jsx)(o,{label:"second",count:x.seconds}),d?" ".concat(d):null]})}},1942:function(e,n,t){"use strict";t.d(n,{N:function(){return r}});var s=t(2322);function r(){return(0,s.jsxs)("div",{className:"friends-empty",children:[(0,s.jsx)("img",{alt:"Two friends high fiving",src:"/images/friends.svg"}),(0,s.jsx)("p",{className:"friends-empty__title",children:"Add friends!"}),(0,s.jsx)("p",{className:"friends-empty__desc",children:"Want to see where you stand only among your friends? Visit their profile and add them as friends to see them here!"})]})}},8742:function(e,n,t){"use strict";t.d(n,{P:function(){return i}});var s=t(2322),r=(t(2784),t(2367)),a=t(1251);function i(e){var n=e.data;return(0,s.jsxs)("div",{className:"leaderboard__user  leaderboard__user--".concat(n.rank),children:[(0,s.jsx)(a.qE,{small:!0,size:"32",url:n.playerProfile.avatar,username:n.playerProfile.username,userId:n.userId||n.playerProfile.id||n.playerProfile.uid,className:"leaderboard__user-avatar"}),(0,s.jsxs)("div",{className:"leaderboard__user-info",children:[(0,s.jsx)(a.Rj,{name:n.playerProfile.displayName,username:n.playerProfile.username,isPro:n.playerProfile.isPro,userId:n.userId||n.playerProfile.id||n.playerProfile.uid,className:"leaderboard__user-name",ellipsis:!0}),(0,s.jsxs)("p",{className:"leaderboard__user-score",children:[n.score?n.score.toFixed(2):"0"," ",n.playedCount?"(".concat(n.playedCount," Target").concat(n.playedCount>1?"s":"",")"):"",n.codeSize?"(".concat(n.codeSize," Chars)"):""]})]}),(0,s.jsx)("p",{className:"leaderboard__user-rank  leaderboard__user-rank--".concat(n.rank),children:(0,r.x4)(n.rank)})]})}},94:function(e,n,t){"use strict";t.d(n,{g:function(){return a}});var s=t(2322),r=t(3290);function a(e){var n=e.isFriendsMode,t=e.onChange,a=function(e){t(e),(0,r.q)({name:"friendLeaderboardToggle",label:"friends"===e.target.value})};return(0,s.jsxs)("div",{className:"filter leaderboard-filter",children:[(0,s.jsxs)("span",{className:"filter__button",children:[(0,s.jsx)("input",{type:"radio",name:"leaderboard-filter",id:"friends",value:"friends",defaultChecked:n,onChange:a}),(0,s.jsx)("label",{htmlFor:"friends",children:"Friends Only"})]}),(0,s.jsxs)("span",{className:"filter__button",children:[(0,s.jsx)("input",{type:"radio",name:"leaderboard-filter",id:"everyone",value:"everyone",defaultChecked:!n,onChange:a}),(0,s.jsx)("label",{htmlFor:"everyone",children:"All Players"})]})]})}},8387:function(e,n,t){"use strict";t.d(n,{Z:function(){return r}});var s=t(2322),r=(t(2784),function(e){var n=e.height,t=void 0===n?18:n,r=e.style;return(0,s.jsx)("img",{height:t,className:"pro-badge",style:r,src:"/images/pro-badge.svg",alt:"Pro badge"})})},5167:function(e,n,t){"use strict";t.r(n),t.d(n,{__N_SSP:function(){return ge},default:function(){return ve}});var s=t(8788),r=t(865),a=t(6670),i=t(4776),o=t.n(i),c=t(2322),l=t(5632),d=t(5237),u=t.n(d),m=t(7729),h=t.n(m),p=t(2784),f=t(2268),g=t(8688),v=t.n(g),x=t(4697),b=t(7171),j=t(1453),y=t(137);function _(e){return(0,c.jsx)("button",{type:"button","aria-label":"Copy color ".concat(e.children),onClick:function(){var n=document.createElement("input");n.value=e.children,n.style.opacity=0,document.body.appendChild(n),n.select(),document.execCommand("copy"),document.body.removeChild(n),y.Am.info("Color ".concat(e.children," copied to clipboard")),window.dispatchEvent(new Event("customEditorFocus"))},className:"js-target-color colors-list__color",style:{"--color":"".concat(e.children)},children:e.children})}var w=t(6706),S=t(6383),N=t(8742),k=t(9241),C=t(3552),I=t(7037),T=t(9318),E=t(94),P=t(1942),M=t(9097),L=t.n(M),F=function(e){var n=e.levelId,t=(0,p.useContext)(C.S),s=(0,p.useState)([]),i=s[0],o=s[1],l=(0,p.useState)(),d=l[0],u=l[1],m=(0,S.Z)((0,T._)("showFriendsLeaderboard",!!t),2),h=m[0],f=m[1];return(0,p.useEffect)((function(){window.localStorage.debug,u(!0),o([]),(h?(0,I.UZ)({levelId:n,userId:t.uid}):(0,I.R6)({levelId:n})).then((function(e){o(e),u(!1)}))}),[t?t.uid:"",n,h]),(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)(j.M,{meta:"",children:["Target #",n," Leaderboard"]}),(0,c.jsxs)("div",{className:"item__content",children:[t&&(0,c.jsx)(E.g,{isFriendsMode:h,onChange:function(e){f("friends"===e.target.value)}}),h&&!d&&!i.length&&(0,c.jsx)(P.N,{}),(0,c.jsxs)("div",{className:"leaderboard-container",children:[d?(0,c.jsx)("p",{className:"ta-c",children:(0,c.jsx)(k.a,{})}):null,!d&&!i.length&&!h&&(0,c.jsx)("p",{className:"para",children:"No one here. It could be you! How about playing some targets?"}),(0,c.jsx)("ul",{className:"leaderboard__user-list leaderboard__user-list--local",children:i.map((function(e,n){return(0,c.jsx)("li",{children:(0,c.jsx)(N.P,{data:(0,a.Z)((0,r.Z)({},e),{rank:n+1})},n)},n)}))})]}),(0,c.jsx)("p",{className:"para ta-c",children:(0,c.jsx)(L(),{href:"/leaderboard/target/".concat(n),children:(0,c.jsx)("a",{className:"link",children:"See top 100"})})})]})]})},O=t(930),R=t(8724),z=t(2367),D=t(2220),G=t(1251),A=t(1893),q=t(8329);function Z(e){var n=e.submission,t=e.onClick;return(0,c.jsxs)(R.L,{dropdownBtnClasses:"button--full-width submissions-dropdown",dropdownMenuClasses:"dropdown-menu--left",dropdownBtnContent:(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)("p",{children:["Score: ",n.score," ","{".concat(n.codeSize,"}"),","," ",n.match,"% match"]}),(0,c.jsxs)("p",{className:"submissions-list__time",children:[(0,c.jsxs)("span",{className:"submissions-list__time--relative",children:[(0,z.VG)(new Date(n.timestamp))," ago"]}),(0,c.jsx)("span",{className:"submissions-list__time--absolute",children:new Date(n.timestamp).toLocaleString()})]})]}),children:[(0,c.jsx)("p",{className:"submissions-list__code",children:n.code}),(0,c.jsx)(D.z,{primary:!0,extraClasses:"button--full-width",onClick:t,children:"Load Code"})]})}var B=function(e){var n=e.submissions,t=void 0===n?[]:n,s=e.onSubmissionSelect,r=e.isFetching,a=(0,A.a)(),i=(0,p.useState)(""),o=i[0],l=i[1],d=(0,p.useState)(!0),u=d[0],m=d[1],h=(0,p.useState)([]),f=h[0],g=h[1];return(0,p.useEffect)((function(){var e=(0,O.Z)(t);u&&(e=e.filter((function(e){return 100===e.match}))),g(e)}),[t.length]),(0,p.useEffect)((function(){var e=function(){return u?t.filter((function(e){return 100===e.match})):(0,O.Z)(t)};if(o){var n=e().filter((function(e){return!!(e.code||"").toLowerCase().match(o.toLowerCase())}));g(n)}else g(e())}),[o,u]),(0,c.jsxs)("div",{children:[(0,c.jsx)(j.M,{meta:"".concat(t.length," submissions"),children:"Last Submissions"}),(0,c.jsx)("div",{className:"item__content",children:(0,c.jsxs)("div",{className:"submissions-container",children:[r&&!t.length?(0,c.jsx)("p",{className:"ta-c",children:(0,c.jsx)(k.a,{})}):null,r||t.length?null:(0,c.jsx)("p",{className:"section-helper",children:"You don't have any submissions."}),t.length?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("div",{className:"input-container",children:(0,c.jsx)("input",{type:"text",placeholder:"Search by code",onInput:function(e){return l(e.target.value)}})}),(0,c.jsx)(G.XZ,{label:"Show only 100% match submissions",checked:u,onChange:function(e){return m(e.target.checked)}})]}):null,t.length&&!f.length?(0,c.jsx)("p",{className:"section-helper",children:"No matching submission found."}):null,(0,c.jsx)("ul",{className:"submissions-list",children:f.map((function(e){return(0,c.jsx)("li",{className:"submissions-list__item",children:(0,c.jsx)(Z,{submission:e,onClick:function(){return s(e.code)}})},e.id)}))}),t.length&&!(null===a||void 0===a?void 0:a.isPro)?(0,c.jsxs)("div",{style:{background:"rgb(63 129 163 / 11%)",border:"2px solid rgb(36 84 108)",padding:"1rem",borderRadius:8,marginBottom:"1rem"},children:["You can see only last 5 submissions on a Free account. To see all your past submissions,"," ",(0,c.jsxs)("a",{style:{color:"var(--clr-brand)"},href:"/pro",target:"_blank",children:["switch to ",(0,c.jsx)(q.Z,{style:{position:"relative",top:4}})]}),"."]}):null]})})]})};var H=t(5598),J=t(384);function V(e){var n=e.submission,t=e.onClick,s=function(e){var n=[];return(e.match(/&[#0-9a-zA-Z]/gi)||function(e){for(var n=0,t=e.length;n<t;n++)if(e.charCodeAt(n)>255)return!0;return!1}(e))&&n.push({msg:"This submission uses unicode symbols to recreate the target. Unicode characters are rendered differently in different systems and might not work as you expect on your browser.",result:"warning",label:"Unicode"}),e.match(/--:/gi)&&n.push({msg:"This submission uses -- as variable names. This is no more supported since Chromium 99. Hence, this solution might not render properly in your browser or get a correct score.",label:"\ud83d\udfe0 Outdated",result:"warning"}),n}(n.code);return(0,c.jsxs)("div",{className:"top-submission-container",children:[(0,c.jsxs)("div",{className:"top-submission__author",children:[(0,c.jsx)(G.qE,{small:!0,size:"32",url:n.playerProfile.avatar,userId:n.playerProfile.userId,username:n.playerProfile.username,className:"target-highscore__avatar top-submission__author__avatar"}),(0,c.jsxs)(H.VStack,{gap:"0.4rem",align:"flex-start",children:[(0,c.jsx)(G.Rj,{name:n.playerProfile.displayName,username:n.playerProfile.username,userId:n.playerProfile.userId,isPro:n.playerProfile.isPro,ellipsis:!0}),(0,c.jsxs)("p",{className:"top-submission__author__score",children:["Score: ",n.score," ","{".concat(n.codeSize,"}"),","," ",n.match,"% match"]}),s.length?(0,c.jsx)("div",{children:s.map((function(e){var n=e.msg,t=e.label;return(0,c.jsx)(U,{label:t,msg:n})}))}):null]})]}),(0,c.jsx)("p",{className:"submissions-list__code",children:n.code}),(0,c.jsx)(D.z,{primary:!0,extraClasses:"button--full-width",onClick:function(){return t(n.code)},children:"Load Code"})]})}var W=function(e){var n=e.onSubmissionSelect,t=e.levelId,s=(0,p.useState)([]),r=s[0],a=s[1],i=(0,p.useState)(!1),o=i[0],l=i[1];return(0,p.useEffect)((function(){l(!0),a([]),(0,I.X2)(t).then((function(e){(0,z.WQ)(e),a(e),l(!1)}))}),[]),(0,c.jsxs)("div",{children:[(0,c.jsx)(j.M,{meta:"".concat(r.length," submissions"),children:"Top Submissions"}),(0,c.jsx)("div",{className:"item__content",children:(0,c.jsxs)("div",{className:"submissions-container",children:[o&&!r.length?(0,c.jsx)("p",{className:"ta-c",children:(0,c.jsx)(k.a,{})}):null,o||r.length?null:(0,c.jsx)("p",{className:"section-helper",children:"No submissions yet."}),!o&&r.length?(0,c.jsx)("p",{children:"You are seeing only unique solutions in top 10"}):null,o||r.length?null:(0,c.jsx)("p",{className:"section-helper",children:"No matching submission found."}),(0,c.jsx)("ul",{className:"submissions-list",children:r.map((function(e){return(0,c.jsx)("li",{className:"submissions-list__item",children:(0,c.jsx)(V,{submission:e,onClick:n})},e.id)}))})]})})]})};function U(e){var n=e.label,t=e.msg,s=(0,p.useState)(!1),r=s[0],a=s[1];return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("button",{style:{display:"inline-block",padding:"0.2rem 0.5rem",borderRadius:"3rem",background:"rgb(255 244 0 / 17%)",border:0,color:"inherit"},onClick:function(){return a(!r)},children:n}),(0,c.jsx)(J.u,{size:"small",isOpen:r,onRequestClose:function(){return a(!1)},children:t})]})}function K(e){var n=e.isOpen,t=e.onRequestClose,s=e.side,r=void 0===s?"left":s,a=e.noUnderlay,i=e.children;return(0,c.jsxs)("div",{className:"sidebar-container ".concat(n?"sidebar-container--visible":""),children:[!a&&(0,c.jsx)("div",{className:"underlay",onClick:t}),(0,c.jsxs)("div",{className:"sidebar sidebar--".concat(r),children:[(0,c.jsx)("button",{className:"sidebar__close",onClick:t}),(0,c.jsx)("div",{className:"sidebar__content",children:i})]})]})}var X=t(3290),Y=t(2142);function Q(e){var n=(0,p.useState)(e.type),t=n[0];n[1];return(0,p.useEffect)((function(){var e=document.createElement("script");e.async=!0,"ethicalads"===t?(e.src="https://media.ethicalads.io/media/client/ethicalads.min.js",e.onload=function(){window.ethicalads&&window.ethicalads.wait.then((function(e){e.length?console.debug("EthicalAds are loaded"):console.debug("Loading backup content")}))}):(e.id="_carbonads_js",e.src="https://cdn.carbonads.com/carbon.js?serve=CK7I6KJN&placement=cssbattledev");var n=document.querySelector(".no-sponsor");document.querySelector(".sponsor-container").insertBefore(e,n)}),[t]),(0,c.jsxs)("div",{className:"sponsor-container",children:["ethicalads"===t&&(0,c.jsx)("div",{"data-ea-publisher":"cssbattle-dev",className:"horizontal flat dark","data-ea-type":"image"}),(0,c.jsxs)("div",{className:"no-sponsor",children:[(0,c.jsx)("a",{href:(0,z.nX)("https://bytes.dev/?r=cssbattle",95),target:"_blank",rel:"noopener",children:(0,c.jsx)("img",{src:"/images/uidev-banner.jpeg",style:{maxWidth:"100%"}})}),!1]})]})}var $=function(e){var n=e.isOpen,t=e.onRequestClose,s=e.score;return(0,c.jsxs)(J.u,{isOpen:n,size:"small",extraClasses:"modal--text-center",children:[(0,c.jsx)("div",{className:"firstScoreIcon"}),(0,c.jsxs)("h2",{children:["You scored ",s,"!"]}),(0,c.jsx)("p",{className:"para",style:{lineHeight:"1.6"},children:"To be able to access your submissions history, see your name in the leaderboards, and create a profile, feel free to create an account by clicking on the button below!"}),(0,c.jsxs)(G.hE,{center:!0,children:[(0,c.jsx)(D.z,{onClick:t,children:"Cancel"}),(0,c.jsx)("a",{className:"button button--primary",href:"/login",children:"Sign Up / Sign In"})]})]})};var ee=t(9604);function ne(e){var n=e.levelId,t=(0,p.useState)(),s=t[0],r=t[1];return(0,p.useEffect)((function(){var e=Y.n.find((function(e){return e.levelIds.includes(n)}));r(e)}),[n]),s?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("div",{className:"inner-header",children:(0,c.jsx)("h4",{className:"header__title header__title--inner",children:"Target Sponsored By"})}),(0,c.jsxs)("div",{className:"island",children:[(0,c.jsx)("div",{children:(0,c.jsx)("img",{className:"sponsor-image",width:"100",src:s.img,alt:""})}),(0,c.jsxs)("div",{children:[(0,c.jsxs)("a",{className:"spponsor-link",target:"_blank",rel:"external noopener noreferrer",href:(0,z.nX)(s.link,s.id),children:[s.name," ",(0,c.jsx)(ee.J,{name:"link",size:"12"})]}),(0,c.jsx)("p",{className:"sponsor-desc",children:s.tagLine})]})]})]}):null}var te=t(8387),se=function(e){var n=e.isOpen,t=e.onViewSolutionsRequest,s=e.onRequestClose;return(0,c.jsxs)(J.u,{isOpen:n,size:"small",extraClasses:"modal--text-center",children:[(0,c.jsx)("div",{className:"openBookIcon"}),(0,c.jsx)("h2",{children:'This is an "Open" Target'}),(0,c.jsxs)("p",{className:"para",style:{lineHeight:"1.6"},children:["Open Targets have all the top solutions public. Learn new tips & tricks and apply them to other targets."," ",(0,c.jsx)("a",{className:"link",href:"/blog/introducing-open-targets/",target:"_blank",children:"Learn More about Open Targets"}),"."]}),(0,c.jsxs)(G.hE,{center:!0,children:[(0,c.jsx)(D.z,{onClick:t,primary:!0,children:"View Top Solutions"}),(0,c.jsx)(D.z,{onClick:s,children:"Close"})]})]})},re=t(9288),ae=t(5935),ie=t(7733),oe={type:"spring",damping:7,stiffness:100,duration:1.5,delay:0,times:[0,.5,1],repeat:0};function ce(e,n){var t=new Audio("/sfx/".concat(e,".mp3"));setTimeout((function(){t.play()}),1e3*n)}var le=function(e){var n=e.onRequestClose,t=(0,p.useState)(!1),s=t[0],i=t[1];return(0,c.jsxs)(ae.E.div,{className:"countdown-wrap",children:[!s&&(0,c.jsxs)(H.VStack,{gap:"2rem",children:[(0,c.jsx)(ie.h,{size:"13rem",children:"Play & Win!"}),(0,c.jsx)("p",{style:{fontSize:"2rem"},children:"Replicate the given image as close as possible in 3 minutes. Feel the rush!"}),(0,c.jsx)(D.z,{cool:!0,size:"xl",onClick:function(){return i(!0)},children:"Start Game!"})]}),s&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(de,{onStart:function(){return ce("three")},children:"3"}),(0,c.jsx)(de,{onStart:function(){return ce("two",1)},delay:1,children:"2"}),(0,c.jsx)(de,{onStart:function(){return ce("one",2)},delay:2,children:"1"}),(0,c.jsx)(ae.E.div,{className:"countdown__digit",onAnimationStart:function(){return ce("play",3)},transition:(0,a.Z)((0,r.Z)({},oe),{delay:2.5}),animate:{opacity:[0,1,0],scale:[0,1,.5]},onAnimationComplete:n,children:"GO!"})]})]})},de=function(e){var n=e.delay,t=e.onStart,s=e.children;return(0,c.jsx)(ae.E.div,{className:"countdown__digit",transition:(0,a.Z)((0,r.Z)({},oe),{delay:n}),onAnimationStart:t,animate:{opacity:[0,1,0],x:[-150,0,150],scale:[1,2,1],rotate:[-10,0,10]},children:s})},ue=t(1551),me=function(e){var n=e.minutes,t=e.onFinish,s=(0,p.useState)(),r=s[0],a=s[1];return(0,p.useEffect)((function(){var e=new Date(1e3*(Date.now()/1e3+60*n));a(e)}),[n]),(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("div",{className:"inner-header",children:(0,c.jsx)("h4",{className:"header__title header__title--inner",children:"Time left"})}),(0,c.jsx)("div",{className:"score-container",children:(0,c.jsxs)("div",{children:[" ",(0,c.jsx)(ue.W,{date:r,onFinish:t})]})})]})},he=["in-motion.mp3","ghost-n-stuff.mp3","mortal-kombat.mp3"];var pe=u()((function(){return Promise.all([t.e(917),t.e(716),t.e(101)]).then(t.bind(t,9101)).then((function(e){return e.UserScripts}))}),{loadableGenerated:{webpack:function(){return[9101]}},ssr:!1,loading:function(){return(0,c.jsx)(G.e9,{})}}),fe=function(e){var n=e.isSliderOn,t=e.slideToggleHandler,s=e.isDiffOn,r=e.diffToggleHandler;return(0,c.jsxs)(H.HStack,{justify:"flex-end",children:[(0,c.jsxs)("label",{children:[(0,c.jsx)("input",{defaultValue:!0,checked:n,type:"checkbox",onChange:t})," ","Slide & Compare"]}),(0,c.jsxs)("label",{children:[(0,c.jsx)("input",{defaultValue:!0,checked:s,type:"checkbox",onChange:r})," ","Diff"]})]})},ge=!0,ve=function(e){var n=e.levelIdParam,i=function(){(null===T||void 0===T?void 0:T.gameMode)||window.localStorage.setItem("lastCode-".concat(L),V.current)},d=function(e){"Escape"===e.key&&(ce(!1),_e(!1)),e.key===Ye.current.editor&&e.ctrlKey&&e.shiftKey&&window.dispatchEvent(new Event("customEditorFocus")),e.key===Ye.current.colorPicker&&e.ctrlKey&&e.shiftKey&&(k(),e.preventDefault())},m=function(){Xe(!1),window.localStorage.setItem("hasSeenOpenTargetModal",!0)},g=function(e){J(e),V.current=e,S(e)},S=function(e){var n=function(e){return e.match(/<script[\s\S]*?>/gi)?{msg:"<script> tags are not allowed",isCodeInvalid:!0,result:"error"}:e.match(/<img.*?src\s*=(.*?)/gi)||e.match(/url\(.*?\)/gi)||e.match(/<object.*?data\s*=(.*?)/gi)?{msg:"External images are not allowed",isCodeInvalid:!0,result:"error"}:e.match(/<link.*?href\s*=(.*?)/gi)||e.match(/@import.*?/gi)?{msg:"External stylesheets are not allowed",isCodeInvalid:!0,result:"error"}:e.match(/svg/gi)||e.match(/clip-path\s*:\s*path/gi)?{msg:"SVGs are not allowed",isCodeInvalid:!0,result:"error"}:e.match(/<embed.*?src\s*=(.*?)/gi)?{msg:"External resources are not allowed",isCodeInvalid:!0,result:"error"}:e.match(/srcdoc/gi)?{msg:'"srcdoc" attribute is not allowed',isCodeInvalid:!0,result:"error"}:e.match(/&[#0-9a-zA-Z]/gi)||function(e){for(var n=0,t=e.length;n<t;n++)if(e.charCodeAt(n)>255)return!0;return!1}(e)?{msg:"HTML entities are rendered differently in different systems and might not work as you expect",isCodeInvalid:!1,result:"warning"}:{msg:"No errors found",isCodeInvalid:!1,result:"success"}}(e);De(n)},N=function(e){g(e),ce(!1),y.Am.info("Previous submission code loaded.")},k=function(){window.document.querySelector(".js-target-color").focus()},C=(0,l.useRouter)(),T=(0,A.a)(),E=(0,p.useState)(!1),P=E[0],M=E[1];(0,p.useEffect)((function(){M(!0)}),[]);var L=n.length>6?n:parseInt(n,10),O=(0,p.useState)(),R=O[0],q=O[1];(0,p.useEffect)((function(){var e=v().find((function(e){return e.id===L}));e?q(e):(0,I.Qz)(L).then((function(e){q(e)})),T&&T.uid&&oe&&(ae([]),be(!0),rn().then((function(e){be(!1),ae(e)})))}),[L]);var Z=(0,p.useState)("<div></div>\n<style>\n  div {\n    width: 100px;\n    height: 100px;\n    background: #dd6b4d;\n  }\n</style>\n"+((null===T||void 0===T?void 0:T.gameMode)?"":"\n\x3c!-- OBJECTIVE --\x3e\n\x3c!-- Write HTML/CSS in this editor and replicate the given target image in the least code possible. What you write here, renders as it is --\x3e\n\n\x3c!-- SCORING --\x3e\n\x3c!-- The score is calculated based on the number of characters you use (this comment included :P) and how close you replicate the image. Read the FAQS (https://cssbattle.dev/faqs) for more info. --\x3e\n\n\x3c!-- IMPORTANT: remove the comments before submitting --\x3e")),H=Z[0],J=Z[1],V=(0,p.useRef)(H),U=(0,p.useState)(),ee=U[0],ae=U[1],ie=(0,p.useState)(!1),oe=ie[0],ce=ie[1],de=(0,p.useState)(!1),ue=de[0],ge=de[1],ve=(0,p.useState)(),xe=ve[0],be=ve[1],je=(0,p.useState)(!1),ye=je[0],_e=je[1],we=(0,p.useState)(!1),Se=we[0],Ne=we[1],ke=(0,p.useState)({}),Ce=ke[0],Ie=ke[1],Te=(0,p.useState)(),Ee=Te[0],Pe=Te[1],Me=(0,p.useState)(!1),Le=Me[0],Fe=Me[1],Oe=Y.n.find((function(e){return e.levelIds.includes(L)})),Re=(0,p.useState)({msg:"No errors found",isCodeInvalid:!1}),ze=Re[0],De=Re[1],Ge=(0,p.useState)(!0),Ae=Ge[0],qe=Ge[1],Ze=(0,p.useState)(!1),Be=Ze[0],He=Ze[1],Je=(0,p.useState)(!1),Ve=Je[0],We=Je[1],Ue=(0,p.useState)(!1),Ke=Ue[0],Xe=Ue[1],Ye=(0,p.useRef)({colorPicker:"C",editor:"E"});(0,p.useEffect)((function(){window.localStorage.getItem("hotkeys")&&(Ye.current=JSON.parse(window.localStorage.getItem("hotkeys")))}),[]),(0,p.useEffect)((function(){R&&(window.document.title="Target #".concat(L," ").concat(R.name?"(".concat(R.name,")"):""," - CSSBattle"))}),[R]),(0,p.useEffect)((function(){return document.body.classList.add("level-page"),function(){document.body.classList.remove("level-page")}}),[]),(0,p.useEffect)((function(){return window.addEventListener("keyup",d),function(){window.removeEventListener("keyup",d)}}),[]),(0,p.useEffect)((function(){var e="lastCode-".concat(L),n=window.localStorage.getItem(e);n&&(window.localStorage.removeItem(e),(null===T||void 0===T?void 0:T.gameMode)||g(n)),window.addEventListener("unload",i);var t=window.location.pathname;return function(){window.removeEventListener("unload",i),window.localStorage.setItem(e,V.current),C.pathname.match(/login/)&&window.localStorage.setItem("beforeLoginLocation",t)}}),[L]),(0,p.useEffect)((function(){var e=JSON.parse(window.localStorage.getItem("hasSeenOpenTargetModal"));R&&!R.isOpen||e?Xe(!1):R&&R.isOpen&&!e&&Xe(!0)}),[R]);var Qe=(0,p.useState)([]),$e=Qe[0],en=Qe[1];(0,p.useEffect)((function(){T&&T.isPro&&(0,I.Z6)({userId:T.uid}).then((function(e){en(e)}))}),[T?T.isPro:""]),(0,p.useEffect)((function(){T&&(0,I.A9)({playerId:T.uid,levelId:L}).then(Pe)}),[L,T]);var nn=(0,p.useState)(""),tn=nn[0],sn=nn[1];function rn(){return an.apply(this,arguments)}function an(){return(an=(0,s.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,I.XU)({userId:T.uid,levelId:L,limit:(null===T||void 0===T?void 0:T.isPro)?void 0:5}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function on(){return(on=(0,s.Z)(o().mark((function e(){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ce(!0),_e(!1),be(!0),e.next=5,rn();case 5:n=e.sent,be(!1),ae(n),(0,X.q)({name:"levelSubmissionsBtnClick"});case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function cn(){return ln.apply(this,arguments)}function ln(){return(ln=(0,s.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ge(!0),_e(!1),(0,X.q)({name:"topSubmissionsBtnClick"});case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function dn(){return un.apply(this,arguments)}function un(){return(un=(0,s.Z)(o().mark((function e(){var n,t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Le){e.next=2;break}return e.abrupt("return");case 2:if((0,X.q)({name:"submitBtnClick"}),n=H,T&&T.isPro&&$e.some((function(e){return e.shouldAutoRun}))&&(y.Am.info("Running your auto-run editor plugins..."),$e.forEach((function(e){e.shouldAutoRun&&(n=(0,z.TF)(e,n))})),g(n)),!T){e.next=12;break}return e.next=9,T.getIdToken();case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0="";case 13:t=e.t0,Fe(!0),fetch("".concat(I.bl,"/getScore?levelId=").concat(L,"&token=").concat(t),{method:"post",headers:{"Content-Type":"Application/json"},body:JSON.stringify({code:n})}).then((function(e){return e.json()})).then((function(e){Fe(!1),Ie(e),!Ee||e.score>Ee.score?(Pe((0,a.Z)((0,r.Z)({},Ee),{score:e.score,codeSize:n.length})),(0,z.lC)(4),T?y.Am.info("New highscore!! You scored ".concat(e.score," with ").concat(e.match,"% match")):We(!0)):y.Am.info("You scored ".concat(e.score," with ").concat(e.match,"% match"))}));case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(0,p.useEffect)((function(){Ee&&sn((0,z.qA)({score:Ee.score,codeSize:Ee.codeSize,levelId:L,levelName:R.name}))}),[Ee]),(0,p.useEffect)((function(){var e=function(e){"Enter"===e.key&&(e.metaKey||e.ctrlKey)&&(e.preventDefault(),e.stopPropagation(),dn())};return window.addEventListener("keydown",e,!0),function(){return window.removeEventListener("keydown",e,!0)}}),[dn]);var mn=(0,re.I)(),hn=(0,p.useRef)(null);(0,p.useEffect)((function(){var e;T&&T.isPro&&(null===(e=T.settings)||void 0===e?void 0:e.vscode)?hn.current=u()((function(){return Promise.all([t.e(37),t.e(660)]).then(t.bind(t,5451))}),{loadableGenerated:{webpack:function(){return[5451]}},ssr:!1,loading:function(){return(0,c.jsx)(G.e9,{})}}):hn.current=u()((function(){return Promise.all([t.e(917),t.e(716),t.e(895),t.e(959)]).then(t.bind(t,9959))}),{loadableGenerated:{webpack:function(){return[9959]}},ssr:!1,loading:function(){return(0,c.jsx)(G.e9,{})}})}),[null===T||void 0===T?void 0:T.isPro]);var pn=hn.current,fn=function(){var e=(0,A.a)(),n=(0,p.useState)(!1),t=n[0],s=n[1],r=(0,p.useState)(!1),a=r[0],i=r[1];(0,p.useEffect)((function(){(null===e||void 0===e?void 0:e.gameMode)&&i(!0)}),[null===e||void 0===e?void 0:e.gameMode]);var o=(0,p.useState)(!1),c=o[0],l=o[1],d=(0,p.useRef)();function u(){var e=he[~~(Math.random()*he.length)],n=d.current=new Audio("https://kushagra.dev/uploads/".concat(e));n.onended=u,d.current&&(d.current.volume=.2),n.play()}return(0,p.useEffect)((function(){window.addEventListener("click",(function n(){window.removeEventListener("click",n),(null===e||void 0===e?void 0:e.gameMode)&&u()}))}),[]),{hasGameStarted:t,isTimeOver:c,shouldShowCountdown:a,startGame:function(){i(!1),s(!0),d.current&&(d.current.volume=1)},stopGame:function(){l(!0),new Audio("/sfx/game-over.mp3").play(),d.current&&(d.current.volume=.4)}}}(),gn=fn.hasGameStarted,vn=fn.isTimeOver,xn=fn.shouldShowCountdown,bn=fn.startGame,jn=fn.stopGame;return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)(h(),{children:[(0,c.jsx)("meta",{property:"og:url",content:"https://cssbattle.dev/play/".concat(L)},"url"),(0,c.jsx)("meta",{property:"og:image",content:"https://cssbattle.dev/api/socialImage/target?id=".concat(L)},"banner"),R?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("meta",{property:"og:title",content:"Target #".concat(L," ").concat(R.name?"(".concat(R.name,")"):""," - CSSBattle")},"ogTitle"),(0,c.jsx)("title",{children:"Target #".concat(L," ").concat(R.name?"(".concat(R.name,")"):""," - CSSBattle")},"title")]}):null]}),(0,c.jsx)(x.h,{level:R,levelId:L}),(0,c.jsxs)("div",{className:"container container--fixed-height",children:[(0,c.jsxs)("div",{className:"container__item container__item--main container__item--editor",children:[pn&&(0,c.jsx)(pn,{code:H,onChange:function(e){g(e)},type:"EDITOR",keyCombo:"CTRL + SHIFT + E",consoleInfo:ze,meta:"".concat(H.length," characters")})," ",P&&(0,c.jsxs)(G.hE,{children:[T&&!T.gameMode&&(0,c.jsxs)(D.z,{onClick:function(){Ne(!0),ce(!1),_e(!1),(0,X.q)({name:"openEditorPluginsBtnClick"})},children:["Plugins ",(0,c.jsx)(te.Z,{})]}),T&&!T.gameMode&&(0,c.jsx)(D.z,{onClick:function(){return on.apply(this,arguments)},children:"My Solutions"}),R&&R.isOpen&&(0,c.jsxs)(D.z,{onClick:cn,children:["Top Solutions",(0,c.jsx)("img",{height:"18",src:"/images/open-book.svg",alt:"",style:{marginLeft:"0.5rem"}})]}),(0,c.jsxs)(D.z,{primary:!0,onClick:dn,disabled:!(!Le&&!ze.isCodeInvalid)&&"disabled ","data-hint":"Don't be afraid. You can submit multiple times",extraClasses:"hint--top-left",isLoading:Le,children:["Submit (",mn,"+ENTER)"]})]})]}),(0,c.jsxs)("div",{className:"container__item container__item--scrollable container__item--output",children:[(0,c.jsx)(j.M,{meta:(0,c.jsx)(fe,{isSliderOn:Ae,slideToggleHandler:function(e){qe(e.target.checked)},isDiffOn:Be,diffToggleHandler:function(e){He(e.target.checked)}}),children:"output"}),(0,c.jsxs)("div",{className:"item__content",children:[(null===T||void 0===T?void 0:T.gameMode)&&!vn||!P?null:(0,c.jsx)(w.M,{isSliderOn:Ae,isDiffOn:Be,code:H,levelImage:R?R.image:""}),(0,c.jsx)("div",{className:"inner-header",children:(0,c.jsx)("h4",{className:"header__title header__title--inner",children:"Your Score"})}),(0,c.jsxs)("div",{className:"score-container",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("p",{className:"score-container__score-type",children:"Last Score:"}),(0,c.jsx)("p",{className:"score-container__score",children:Ce.score?"".concat(Ce.score," (").concat(Ce.match,"% match)"):"Submit to get score"})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("p",{className:"score-container__score-type",children:"High Score:"}),(0,c.jsx)("p",{className:"score-container__score",children:Ee?"".concat(Ee.score," (").concat(Ee.codeSize," chars)"):"-"})]}),(0,c.jsxs)("div",{className:"score-container__buttons",children:[(0,c.jsxs)(D.z,{onClick:function(){_e(!0),ce(!1),(0,X.q)({name:"levelLeaderboardBtnClick"})},children:[(0,c.jsx)("img",{className:"button__img",src:"/images/icons/rank_w.svg",alt:""})," ","Leaderboard"]}),T&&Ee?(0,c.jsxs)("a",{href:"https://twitter.com/share?url=https://cssbattle.dev/play/".concat(L,"&text=").concat(tn,"&hashtags=CSSBattleChallenge&via=css_battle&related=css_battle"),target:"_blank",rel:"external noopener noreferrer",className:"button",children:[(0,c.jsx)("img",{height:"16",className:"button__img",src:"/images/twitter.svg",alt:""})," ","Challenge"]}):null]})]}),(null===T||void 0===T?void 0:T.gameMode)&&gn&&(0,c.jsx)(me,{minutes:3,onFinish:jn})]})]}),(0,c.jsxs)("div",{className:"container__item container__item--scrollable container__item--target",children:[(0,c.jsx)(j.M,{meta:"400px x 300px",children:"Target"}),R?(0,c.jsxs)("div",{className:"item__content",children:[(0,c.jsx)("img",{alt:"",width:"400",className:"levelpage__target",src:R.image,srcSet:"".concat(R.image.replace(/\.png/,"@2x.png")," 2x")}),(0,c.jsxs)("div",{className:"inner-header",children:[(0,c.jsx)("h4",{className:"header__title header__title--inner",children:"Colors To Use"}),(0,c.jsx)("p",{className:"key-combo key-combo--inner-header",children:"CTRL + Shift + C"})]}),(0,c.jsx)("ul",{className:"colors-list",children:(R.colors||["#FF0000","#FFFFFF"]).map((function(e){return(0,c.jsx)("li",{children:(0,c.jsx)(_,{children:e})},e)}))}),Oe?(0,c.jsx)(ne,{levelId:L}):(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("div",{className:"inner-header",children:(0,c.jsx)("h4",{className:"header__title header__title--inner",children:"Target Sponsor"})}),(0,c.jsx)(Q,{type:"ethicalads"})]})]}):null]})]}),(0,c.jsx)(b.$,{}),(0,c.jsx)(K,{isOpen:ye,onRequestClose:function(){return _e(!1)},children:ye&&(0,c.jsx)(F,{levelId:L})}),(0,c.jsx)(K,{isOpen:Se,onRequestClose:function(){return Ne(!1)},side:"right",children:Se&&(0,c.jsx)(p.Suspense,{fallback:(0,c.jsx)(G.e9,{}),children:(0,c.jsx)(pe,{onScriptSelect:function(e){var n=(0,z.TF)(e,H);g(n),y.Am.info('Plugin "'.concat(e.title,'" applied.'))},onUpdate:function(e){en(e)}})})}),(0,c.jsx)(K,{isOpen:oe,onRequestClose:function(){return ce(!1)},children:(0,c.jsx)(B,{levelId:L,submissions:ee,onSubmissionSelect:N,isFetching:xe})}),(0,c.jsx)(K,{isOpen:ue,onRequestClose:function(){return ge(!1)},children:ue&&(0,c.jsx)(W,{levelId:L,onSubmissionSelect:N})}),(0,c.jsx)($,{isOpen:Ve,score:Ce.score,onRequestClose:function(){return We(!1)}}),(0,c.jsx)(se,{isOpen:Ke,onViewSolutionsRequest:function(){m(),cn()},onRequestClose:function(){return m()}}),(0,c.jsx)(f.M,{children:xn&&(0,c.jsx)(le,{onRequestClose:bn})})]})}},2142:function(e,n,t){"use strict";t.d(n,{n:function(){return s}});var s=[{id:"1",name:"Web Maker",tagLine:"An offline and blazing fast frontend playground",link:"https://webmaker.app/?utm_source=cssbattle&utm_medium=referral",img:"https://webmaker.app/images/thumb_430.png",levelIds:[14],startDate:"May 8 2019 16:30:00 GMT+0530",endDate:"Sep 30 2019 16:40:00 GMT+0530"},{id:"2",name:"sitepoint.com",tagLine:"Learn HTML, CSS, JavaScript, PHP, Ruby & Responsive Design with 300+ books and courses",link:"https://www.sitepoint.com?utm_source=css-battles&utm_medium=referral&utm_campaign=logo-battle",img:"/sponsors/2.png",levelIds:[21],startDate:"June 12 2019 16:30:00 GMT+0530",endDate:"July 3 2019 16:40:00 GMT+0530"},{id:"3",name:"usepastel.com",tagLine:"Pastel is a visual feedback and collaboration tool for teams building websites and web apps",link:"https://usepastel.com?utm_source=cssbattle&utm_campaign=cssbattle_sponsorship",img:"/sponsors/3.png",levelIds:[53],startDate:"June 9 2020 16:30:00 GMT+0530",endDate:"July 9 2020 16:40:00 GMT+0530"},{id:"4",name:"ImprovMX.com",tagLine:"Free email forwarding for your domain name. Send and receive from custom aliases without having to pay for a Gsuite membership.",link:"https://improvmx.com?utm_source=cssbattle&utm_campaign=cssbattle_sponsorship",img:"/sponsors/4.png",levelIds:[61],startDate:"Nov 21 2020 16:30:00 GMT+0530",endDate:"Dec 21 2020 16:40:00 GMT+0530"},{id:"5",name:"PushOwl",tagLine:"Convert your one-time visitors into loyal customers with push notifications.",link:"https://pushowl.com?utm_source=cssbattle&utm_campaign=cssbattle_sponsorship",img:"/sponsors/5.png",levelIds:[69],startDate:"Mar 2 2021 16:30:00 GMT+0530",endDate:"Apr 1 2021 16:30:00 GMT+0530"},{id:"6",name:"Odoo",tagLine:"The #1 open-source Website Builder",link:"https://www.odoo.com/app/website?utm_source=CSSBattle&utm_medium=cpc-social&utm_campaign=website",img:"/sponsors/6.png",levelIds:[81],startDate:"Sep 21 2021 16:30:00 GMT+0530",endDate:"Oct 21 2021 16:30:00 GMT+0530"},{id:"7",name:"Arineo",tagLine:"Join our developer team for next-level code battles in our ERP and e-commerce projects!",link:"https://arineo.com/en",img:"/sponsors/7.png",levelIds:[117],startDate:"Aug 04 2022 16:30:00 GMT+0530",endDate:"Sep 02 2022 16:30:00 GMT+0530"},{id:"8",name:"Root Learn",tagLine:"Learn Web Development in a live online cohort with a global community. Become a hireable junior developer in 9 weeks.",link:"https://www.rootlearn.com/bootcamp/web-dev?source=cssbattle",linkHome:"https://www.rootlearn.com/bootcamp/web-dev?source=cssbattlebanner",linkTarget:"https://www.rootlearn.com/bootcamp/web-dev?source=cssbattletarget",img:"/sponsors/8.png",levelIds:[125],startDate:"Sep 05 2022 16:30:00 GMT+0530",endDate:"Oct 02 2022 16:30:00 GMT+0530"}]}},function(e){e.O(0,[154,424,836,481,774,888,179],(function(){return n=1311,e(e.s=n);var n}));var n=e.O();_N_E=n}]);
//# sourceMappingURL=[levelId]-24d03867d290412c.js.map