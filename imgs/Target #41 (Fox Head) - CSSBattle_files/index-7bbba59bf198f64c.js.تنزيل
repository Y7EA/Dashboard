(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5356:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(2737)}])},7418:function(e,t,n){"use strict";n.d(t,{E:function(){return p}});var a=n(2322),s=n(2784),i=n(9097),r=n.n(i),l=n(1453),o=n(2367),c=function(e){var t=e.imageUrl,n=e.actionLink,s=e.timeStamp,i=e.children,r=(0,a.jsx)("svg",{style:{width:"30px",height:"30px"},viewBox:"0 0 24 24",children:(0,a.jsx)("path",{fill:"currentColor",d:"M12 19.2c-2.5 0-4.71-1.28-6-3.2.03-2 4-3.1 6-3.1s5.97 1.1 6 3.1a7.232 7.232 0 0 1-6 3.2M12 5a3 3 0 0 1 3 3 3 3 0 0 1-3 3 3 3 0 0 1-3-3 3 3 0 0 1 3-3m0-3A10 10 0 0 0 2 12a10 10 0 0 0 10 10 10 10 0 0 0 10-10c0-5.53-4.5-10-10-10z"})});return(0,a.jsxs)("div",{className:"notification-item",children:[(0,a.jsxs)("div",{className:"notification-item__content",children:[(0,a.jsx)("div",{className:"notification-item__image",children:t?(0,a.jsx)("img",{src:t,alt:""}):r}),(0,a.jsxs)("div",{className:"notification-item__text",children:[i,(0,a.jsxs)("div",{className:"notification-item__time",children:[(0,o.VG)(s)," ago"]})]})]}),n?(0,a.jsx)("a",{href:n,className:"shadow-link"}):null]})},d=n(7037),u=n(4136),m=n.n(u),h=n(9241);function p(e){var t=e.battleId,n=(0,s.useState)(!1),i=n[0],o=n[1],u=(0,s.useState)([]),p=u[0],f=u[1];return(0,s.useEffect)((function(){o(!0),(0,d.V6)(t).then((function(e){o(!1),f(e)}))}),[t]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(l.M,{children:"Activity Timeline"}),(0,a.jsx)("div",{className:"item__content item__content--no-padding",children:(0,a.jsxs)("div",{className:m().streams,children:[i?(0,a.jsx)("p",{className:"para ta-c",style:{margin:"1rem 0"},children:(0,a.jsx)(h.a,{})}):null,i||p.length?null:(0,a.jsx)("p",{className:"para ta-c",children:"No activity recorded here."}),!i&&p.map((function(e){return(0,a.jsxs)(c,{timeStamp:e.timestamp,imageUrl:e.playerProfile.avatar,children:[e.playerProfile.displayName," ",e.data.userId===e.data.previousUserId?"broke own record on":"set a new record on"," ",(0,a.jsx)(r(),{href:"/play/".concat(e.data.levelId),children:(0,a.jsxs)("a",{className:"link",children:["Target #",e.data.levelId]})})," ","with ",e.data.codeSize," chars (",e.data.codeSize-e.data.previousUserCodeSize,")."]},e.id)}))]})})]})}},2220:function(e,t,n){"use strict";n.d(t,{z:function(){return o}});var a=n(865),s=n(6670),i=n(6297),r=n(2322),l=(n(2784),n(9241));function o(e){var t=e.type,n=void 0===t?"button":t,o=e.primary,c=e.danger,d=e.success,u=e.cool,m=e.size,h=e.extraClasses,p=void 0===h?"":h,f=e.children,x=e.isLoading,g=(0,i.Z)(e,["type","primary","danger","success","cool","size","extraClasses","children","isLoading"]);return(0,r.jsxs)("button",(0,s.Z)((0,a.Z)({type:n,className:"button ".concat(o?"button--primary":""," \n      ").concat(u?"button--cssbattle":"","\n      ").concat(m?"button--".concat(m):"","\n      ").concat(d?"button--success":""," ").concat(c?"button--danger":""," ").concat(p),disabled:x},g),{children:[f,(0,r.jsx)("div",{style:{display:"flex",transition:"max-width 0.3s ease",overflow:"hidden",maxWidth:x?"1.6em":0},children:(0,r.jsx)(l.a,{height:"1.3em",leftMargin:"0.5rem"})})]}))}},1551:function(e,t,n){"use strict";n.d(t,{W:function(){return o}});var a=n(2322),s=n(2784),i=n(2367),r=n(1251);function l(e){var t=e.count,n=e.label;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{className:"countdown__number",children:t}),n,1===t?"":"s"]})}function o(e){var t=e.date,n=e.prefix,o=void 0===n?"":n,c=e.suffix,d=void 0===c?"remaining":c,u=e.separator,m=void 0===u?" : ":u,h=e.hideSeconds,p=void 0!==h&&h,f=e.onFinish,x=function(){var e=Date.now();if(e>new Date(t))return clearInterval(j.current),void("function"===typeof f&&f());var n=(0,i.hM)(e,t);v(n)},g=(0,s.useState)({}),_=g[0],v=g[1],j=(0,s.useRef)();return(0,s.useEffect)((function(){x();var e=j.current=setInterval(x,1e3);return function(){clearInterval(e)}}),[t]),(0,a.jsxs)("div",{className:"countdown",children:[(0,a.jsx)(r.dy,{label:"watch",children:"\u23f0"})," ",o?" ".concat(o," "):null,_.days?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(l,{label:"day",count:_.days}),m]}):null," ",_.hours?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(l,{label:"hour",count:_.hours}),m]}):null," ",_.minutes?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(l,{label:"minute",count:_.minutes}),p?"":m]}):null," ",p?null:(0,a.jsx)(l,{label:"second",count:_.seconds}),d?" ".concat(d):null]})}},6833:function(e,t,n){"use strict";n.d(t,{w:function(){return f}});var a=n(865),s=n(6670),i=n(2322),r=n(2784),l=n(5632),o=n(2220),c=n(384),d=n(1251),u=n(9604),m=n(7037),h=n(1255),p=n(1893),f=function(e){var t=e.isOpen,n=e.onRequestClose,f=((0,l.useRouter)(),(0,h.p)("An awesome battle")),x=(0,r.useState)(!1),g=x[0],_=x[1],v=(0,p.a)();return(0,i.jsxs)(c.u,{isOpen:t,size:"small",extraClasses:"modal--text-center",children:[(0,i.jsx)("div",{style:{margin:"1rem 0 1.5rem"},children:(0,i.jsx)(u.J,{name:"battle",size:"48"})}),(0,i.jsx)("h2",{children:"Host a Battle"}),(0,i.jsx)("p",{className:"para",style:{lineHeight:"1.6"},children:"Create your own battles with custom targets, leaderboards, and, duration. Enter a nice name for your battle to proceed:"}),(0,i.jsx)(d.xu,{style:{marginTop:"2.5rem"},children:(0,i.jsxs)("form",{onSubmit:function(e){e.preventDefault(),_(!0),(0,m.pn)({userId:v.uid,battle:{name:f.value,duration:30},levels:[]}).then((function(e){_(!1),location.href="/battle/create/".concat(e)}))},children:[(0,i.jsx)(d.II,(0,s.Z)((0,a.Z)({label:"Battle name"},f.input),{required:!0})),(0,i.jsxs)(d.hE,{center:!0,children:[(0,i.jsx)(o.z,{onClick:n,children:"Cancel"}),(0,i.jsx)(o.z,{type:"submit",isLoading:g,primary:!0,children:"Proceed to Battle edit"})]})]})})]})}},1942:function(e,t,n){"use strict";n.d(t,{N:function(){return s}});var a=n(2322);function s(){return(0,a.jsxs)("div",{className:"friends-empty",children:[(0,a.jsx)("img",{alt:"Two friends high fiving",src:"/images/friends.svg"}),(0,a.jsx)("p",{className:"friends-empty__title",children:"Add friends!"}),(0,a.jsx)("p",{className:"friends-empty__desc",children:"Want to see where you stand only among your friends? Visit their profile and add them as friends to see them here!"})]})}},8742:function(e,t,n){"use strict";n.d(t,{P:function(){return r}});var a=n(2322),s=(n(2784),n(2367)),i=n(1251);function r(e){var t=e.data;return(0,a.jsxs)("div",{className:"leaderboard__user  leaderboard__user--".concat(t.rank),children:[(0,a.jsx)(i.qE,{small:!0,size:"32",url:t.playerProfile.avatar,username:t.playerProfile.username,userId:t.userId||t.playerProfile.id||t.playerProfile.uid,className:"leaderboard__user-avatar"}),(0,a.jsxs)("div",{className:"leaderboard__user-info",children:[(0,a.jsx)(i.Rj,{name:t.playerProfile.displayName,username:t.playerProfile.username,isPro:t.playerProfile.isPro,userId:t.userId||t.playerProfile.id||t.playerProfile.uid,className:"leaderboard__user-name",ellipsis:!0}),(0,a.jsxs)("p",{className:"leaderboard__user-score",children:[t.score?t.score.toFixed(2):"0"," ",t.playedCount?"(".concat(t.playedCount," Target").concat(t.playedCount>1?"s":"",")"):"",t.codeSize?"(".concat(t.codeSize," Chars)"):""]})]}),(0,a.jsx)("p",{className:"leaderboard__user-rank  leaderboard__user-rank--".concat(t.rank),children:(0,s.x4)(t.rank)})]})}},94:function(e,t,n){"use strict";n.d(t,{g:function(){return i}});var a=n(2322),s=n(3290);function i(e){var t=e.isFriendsMode,n=e.onChange,i=function(e){n(e),(0,s.q)({name:"friendLeaderboardToggle",label:"friends"===e.target.value})};return(0,a.jsxs)("div",{className:"filter leaderboard-filter",children:[(0,a.jsxs)("span",{className:"filter__button",children:[(0,a.jsx)("input",{type:"radio",name:"leaderboard-filter",id:"friends",value:"friends",defaultChecked:t,onChange:i}),(0,a.jsx)("label",{htmlFor:"friends",children:"Friends Only"})]}),(0,a.jsxs)("span",{className:"filter__button",children:[(0,a.jsx)("input",{type:"radio",name:"leaderboard-filter",id:"everyone",value:"everyone",defaultChecked:!t,onChange:i}),(0,a.jsx)("label",{htmlFor:"everyone",children:"All Players"})]})]})}},7448:function(e,t,n){"use strict";n.d(t,{T:function(){return r}});var a=n(2322),s=(n(2784),n(4697)),i=n(7171);function r(e){var t=e.fixedHeight,n=e.hideFooter,r=e.extraClasses,l=void 0===r?"":r,o=e.children;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(s.h,{}),(0,a.jsx)("div",{className:"container ".concat(t?"container--fixed-height":"","\n        ").concat(n?"container--hide-footer":"","\n        ").concat(l),children:o}),(0,a.jsx)(i.$,{})]})}},1453:function(e,t,n){"use strict";n.d(t,{M:function(){return s}});var a=n(2322);n(2784);function s(e){var t=e.children,n=e.sticky,s=e.keyCombo,i=e.meta;return(0,a.jsxs)("div",{className:"item__header  ".concat(n?"item__header--sticky":""),children:[(0,a.jsx)("h3",{className:"header__title",children:t}),s&&(0,a.jsxs)("p",{className:"key-combo key-combo--header",children:[" ",s," "]}),(0,a.jsx)("div",{className:"header__extra-info",children:i})]})}},384:function(e,t,n){"use strict";n.d(t,{u:function(){return f}});var a=n(865),s=n(6670),i=n(6297),r=n(2322),l=(n(2784),n(6187)),o=n(5935),c=n(8565),d=n(2268),u=n(1453),m=(0,o.E)(l.cZ),h=(0,o.E)(l.t9),p={type:"spring",damping:9,stiffness:120,duration:500};function f(e){var t=e.isOpen,n=e.onRequestClose,l=e.size,o=void 0===l?"big":l,f=e.extraClasses,x=e.header,g=e.title,_=e.hideOverlay,v=e.children,j=(0,i.Z)(e,["isOpen","onRequestClose","size","extraClasses","header","title","hideOverlay","children"]),b=(0,c.J)();return(0,r.jsx)(d.M,{children:t?(0,r.jsx)(h,(0,s.Z)((0,a.Z)({initial:{opacity:0},animate:{opacity:1,transition:{duration:.3}},exit:{opacity:0,transition:{duration:.2}},style:{background:_?"transparent":null},isOpen:t,onDismiss:n},j),{children:(0,r.jsxs)(m,{className:"modal--".concat(o," ").concat(f),transition:b?{duration:500}:p,initial:{y:b?0:-100},animate:{y:0},exit:{opacity:0,y:b?0:-200,transition:{duration:.2}},"aria-label":g,children:[x?(0,r.jsx)(u.M,{children:x}):null,(0,r.jsx)("div",{style:{padding:"2rem"},children:v})]})})):null})}},1255:function(e,t,n){"use strict";n.d(t,{p:function(){return s}});var a=n(2784);function s(e){var t=(0,a.useState)(e),n=t[0],s=t[1];return{input:{value:n,onChange:function(e,t){if(void 0!==t)return s(t);s("checkbox"===e.target.type?"on"===e.target.value:e.target.value)}},value:n,setValue:s}}},9318:function(e,t,n){"use strict";n.d(t,{_:function(){return i}});var a=n(2838),s=n(2784);function i(e,t){var n=(0,s.useState)((function(){try{var n=window.localStorage.getItem(e);return n?JSON.parse(n):t}catch(a){return console.log(a),t}})),i=n[0],r=n[1];return[i,function(t){try{var n=(0,a.Z)(t,Function)?t(i):t;r(n),window.localStorage.setItem(e,JSON.stringify(n))}catch(s){console.log(s)}}]}},7733:function(e,t,n){"use strict";n.d(t,{h:function(){return o}});var a=n(865),s=n(6670),i=n(6297),r=n(2322),l=n(5935),o=function(e){var t=e.children,n=e.size,o=void 0===n?"3rem":n,c=e.animated,d=e.noShadow,u=(0,i.Z)(e,["children","size","animated","noShadow"]),m=c?l.E.h2:"h2";return(0,r.jsx)(m,(0,s.Z)((0,a.Z)({style:{textTransform:"uppercase",fontSize:o,fontFamily:d?null:"system-ui",fontWeight:"900",color:"var(--clr-brand)",textShadow:d?null:"-2px 2px #d001a2, 2px -2px #00ffcf",transform:u.animate?null:"rotate(0deg)"}},u),{children:t}))}},2737:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return U}});var a=n(8788),s=n(7842),i=n(4776),r=n.n(i),l=n(2322),o=n(2784),c=n(7448),d=n(9097),u=n.n(d),m=n(1453),h=n(7500),p=n(1551),f=n(3029),x=n(1251),g=n(2220),_=n(7037),v=n(3290),j=n(1893);function b(e){var t=e.battle,n=function(){return!!a&&((!a.settings||!a.settings.emailNotifications)&&!1!==i)},a=(0,j.a)();(0,o.useEffect)((function(){if(document.querySelector("#shape-anim"))try{window.shapeAnimation.start()}catch(t){console.log("error in shape animation")}else{var e=document.createElement("script");e.id="shape-anim",e.src="/scripts/shapes-anim.js",window.document.body.appendChild(e),e.onload=function(){try{window.shapeAnimation.start()}catch(t){console.log("error in shape animation")}}}return function(){try{window.shapeAnimation.stop()}catch(t){console.log("error in shape animation")}}}),[]);var s=(0,o.useState)(),i=s[0],r=s[1];return(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)("div",{className:"homepage-banner homepage-banner--new-battle",children:[(0,l.jsx)("canvas",{id:"battle-particles"}),(0,l.jsx)("h1",{className:"homepage-banner__heading",children:"Get ready for the next battle!"}),(0,l.jsxs)("p",{className:"homepage-banner__description",children:["New targets. New leaderboards. The next battle begins on"," ",new Date(t.startDate).toLocaleString()]}),n()&&(0,l.jsx)(g.z,{primary:!0,onClick:function(){r(!0),(0,v.q)({name:"emailNotificationUpdated",label:1}),(0,_.Ii)(a.uid,{"settings.emailNotifications":!0}).then((function(){r(!1)}))},isLoading:i,children:"Get Notified via Email when it's live"}),!1===i||a&&a.settings&&a.settings.emailNotifications?(0,l.jsx)("p",{className:"para",children:"We'll notify you by email when it's live."}):null,n()&&(0,l.jsx)("p",{className:"small",style:{marginTop:"2rem",color:"var(--clr-text-light)"},children:"With this, you'll also receive future emails from us regarding such announcements. We won't spam you :)"})]})})}var y=n(2367),N=n(4221),w=n.n(N);function T(e){var t=e.battle,n=(0,h.getBattleStatus)(t),s=(0,o.useState)([]),i=s[0],c=s[1];return(0,o.useEffect)((function(){n===h.BattleStatuses.FINISHED?fetch("".concat(_.Ko,"/battleLeaderboard?battleId=").concat(t.id)).then(function(){var e=(0,a.Z)(r().mark((function e(t){var n;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:n=e.sent,c(n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()):(0,_.uL)({battleId:t.id,numberOfPlayers:3}).then((function(e){c(e)}))}),[t.id]),(0,l.jsxs)("div",{className:"".concat(w().BattleTile," \n      ").concat(n===h.BattleStatuses.ONGOING?w().BattleTile___ongoing:"","\n      ").concat(n===h.BattleStatuses.UPCOMING?w().BattleTile___upcoming:"","\n      "),children:[(0,l.jsxs)("div",{className:w().BattleTile_header,children:[(0,l.jsxs)("div",{children:[(0,l.jsx)(x.xu,{inline:!0,style:{marginRight:"1rem"},children:(0,l.jsx)(f.k,{status:n,minimal:!0})}),(0,l.jsx)("h2",{className:w().BattleTile_name,children:(0,l.jsx)(u(),{href:"/battle/".concat(t.id),children:(0,l.jsxs)("a",{className:"link",children:["Battle #",t.id," - ",t.name]})})})]}),(0,l.jsxs)("div",{className:w().BattleTile_countdown,children:[n===h.BattleStatuses.FINISHED&&(0,l.jsxs)("time",{dateTime:t.endDate,children:["Finished ",(0,y.VG)(t.endDate)," ago"]}),n===h.BattleStatuses.UPCOMING&&(0,l.jsx)(p.W,{date:t.startDate,suffix:"",prefix:"Starts in",separator:", ",hideSeconds:!0}),n===h.BattleStatuses.ONGOING&&(0,l.jsx)(p.W,{date:t.endDate,suffix:"",prefix:"Ends in",separator:", "})]})]}),(0,l.jsx)("div",{className:w().BattleTile_content,children:n===h.BattleStatuses.UPCOMING?(0,l.jsx)(b,{battle:t}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:w().BattleTile_info,children:[(0,l.jsx)("div",{children:(0,l.jsx)("p",{className:w().BattleTile_desc,children:t.description})}),(0,l.jsxs)("div",{className:w().BattleTile_leaders,children:[(0,l.jsx)("h4",{children:"Leaders"}),i.map((function(e){return(0,l.jsx)(x.xu,{inline:!0,style:{marginRight:"0.5rem"},children:(0,l.jsx)(x.qE,{size:"40",userId:e.id,url:e.playerProfile.avatar,username:e.playerProfile.username})},e.id)}))]})]}),(0,l.jsx)("div",{className:w().BattleTile_targets,children:t.levelIds.map((function(e,n){return(0,l.jsx)(u(),{href:"/play/".concat(e),children:(0,l.jsxs)("a",{className:w().BattleTile_target,children:[(0,l.jsx)("img",{loading:"lazy",src:"/targets/".concat(e,".png"),srcSet:"/targets/".concat(e,"@2x.png 2x"),alt:"Target #".concat(e)}),(0,l.jsxs)("div",{className:"target-top-info",children:[e?(0,l.jsxs)("p",{className:"target-top-info__pill",children:["#",e]}):null,t.openLevelIds&&t.openLevelIds.includes(e)?(0,l.jsx)("p",{className:"target-top-info__pill",children:(0,l.jsx)("img",{alt:"",src:"/images/open-book.svg"})}):null]})]})},n)}))})]})})]})}var S=n(865),B=n(6670),k=n(6383),C=n(930),I=n(8742),M=n(3552),E=n(9241),G=n(9318),P=n(94),D=n(1942),H=n(7414),F=function(e){var t=e.numOfPlayersToShow,n=void 0===t?10:t,a=(0,o.useContext)(M.S),s=(0,H.P)(),i=(0,o.useState)([]),r=i[0],c=i[1],d=(0,o.useState)({}),h=d[0],p=d[1],f=(0,o.useState)(),x=f[0],g=f[1],v=(0,k.Z)((0,G._)("showFriendsLeaderboard",!!a),2),j=v[0],b=v[1],y=(0,o.useState)({playerCount:0}),N=y[0],w=y[1];return(0,o.useEffect)((function(){(0,_.pc)().then(w)}),[]),(0,o.useEffect)((function(){g(!0),(j&&a?(0,_.uf)({userId:a.uid}):(0,_.bQ)(n)).then((function(e){c(e),g(!1),a&&a.getIdToken&&(e.find((function(e){return e.id===a.uid}))?p({rank:e.findIndex((function(e){return e.id===a.uid}))+1,totalPlayers:0}):a.getIdToken().then((function(t){(0,_.r8)({token:t}).then((function(t){p(t),c((0,C.Z)(e).concat([{score:t.score,playerProfile:(0,B.Z)((0,S.Z)({},a),{avatar:a.photoURL}),id:a.uid,rank:t.rank,playedCount:t.playedCount}]))})).catch((function(e){console.log(e)}))})))}))}),[a?a.uid:"",j]),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(m.M,{meta:"You: ".concat(h.rank||"-","/").concat(j?r.length:N.playerCount||"-"),children:"Global Leaderboard"}),(0,l.jsxs)("div",{className:"item__content",children:[a&&s&&(0,l.jsx)(P.g,{isFriendsMode:j,onChange:function(e){b("friends"===e.target.value)}}),j&&!x&&!r.length&&(0,l.jsx)(D.N,{}),0===h.rank&&(0,l.jsx)("p",{className:"section-helper",children:"You need at least a score of 10000 to see your rank."}),(0,l.jsxs)("div",{className:"leaderboard-container",children:[x?(0,l.jsx)("p",{className:"ta-c",style:{margin:"1rem 0"},children:(0,l.jsx)(E.a,{})}):null,(0,l.jsx)("ul",{className:"leaderboard__user-list",children:r.map((function(e,t){return(0,l.jsx)("li",{children:(0,l.jsx)(I.P,{data:(0,B.Z)((0,S.Z)({},e),{rank:void 0===e.rank?t+1:e.rank})},t)},t)}))}),0===h.rank&&(0,l.jsx)("p",{className:"section-helper",children:"You need at least a score of 10000 to see your rank."})]}),r.length?(0,l.jsx)("p",{className:"para ta-c leaderboard-buttons",children:(0,l.jsx)(u(),{href:"/leaderboard",children:(0,l.jsx)("a",{className:"button",children:"See top 100"})})}):null]})]})},L=n(7418),O=n(3781),z=n.n(O),Z=n(6833),W=(n(2142),n(7733)),A=n(5598);function R(){var e=(0,j.a)(),t=(0,o.useState)(),n=t[0],a=t[1];return(0,l.jsx)(l.Fragment,{children:(!e.settings||!e.settings.emailNotifications)&&!1!==n&&(0,l.jsxs)("div",{className:"subscribe-box",children:[(0,l.jsx)("h3",{children:"Subscribe for updates"}),(0,l.jsx)(g.z,{primary:!0,onClick:function(){a(!0),(0,v.q)({name:"emailNotificationUpdated",label:1}),(0,_.Ii)(e.uid,{"settings.emailNotifications":!0}).then((function(){a(!1)}))},isLoading:n,children:"Get Notified via Email about new Battles"}),(0,l.jsx)("p",{className:"para",children:"We won't spam you ever :)"}),!1===n?(0,l.jsx)("p",{className:"para",children:"Great! We'll notify you about new Battles."}):null]})})}var U=function(){var e=(0,j.a)(),t=(0,o.useState)(!1),n=t[0],i=t[1],d=(0,o.useState)([]),p=d[0],f=d[1],x=(0,H.P)();(0,o.useEffect)((function(){e&&(0,_.CU)(e.uid).then(f)}),[e?e.uid:""]);var v=(0,h.getBattleStatus)(h.battles.slice(-1)[0])===h.BattleStatuses.UPCOMING,b=h.battles.slice(0,-2).reverse(),N=h.battles.find((function(e){return(0,h.getBattleStatus)(e)===h.BattleStatuses.ONGOING}));N||(N=h.battles.filter((function(e){return(0,h.getBattleStatus)(e)===h.BattleStatuses.FINISHED})).pop());var w,S=(0,o.useState)(0),B=S[0],k=S[1],C=(0,o.useState)("\ud83d\ude42"),I=C[0],M=C[1];return(0,o.useEffect)((function(){B>=400&&M("\ud83d\udd25"),B<400&&M("\ud83e\udd2f"),B<350&&M("\ud83e\udd29"),B<250&&M("\ud83d\ude00"),B<150&&M("\ud83d\ude42")}),[B]),(0,o.useEffect)((function(){function e(){return t.apply(this,arguments)}function t(){return(t=(0,a.Z)(r().mark((function e(){var t,n;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("visible"===document.visibilityState){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,fetch("/api/session");case 4:return t=e.sent,e.t0=parseInt,e.next=8,t.text();case 8:e.t1=e.sent,(n=(0,e.t0)(e.t1,10))&&k(n);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var n=window.setInterval(e,5e3);return e(),function(){clearInterval(n)}}),[]),(0,l.jsxs)(c.T,{children:[(0,l.jsxs)("div",{className:"container__item container__item--main container__item--battles",children:[e&&x?null:(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(m.M,{children:"Welcome"}),(0,l.jsxs)("div",{className:"homepage-banner",children:[(0,l.jsx)("h1",{className:"homepage-banner__heading",children:"Welcome to CSSBattle!"}),(0,l.jsx)("p",{className:"homepage-banner__description",children:"CSS code-golfing game is here! Use your CSS skills to replicate targets with smallest possible code. Feel free to check out the targets below and put your CSS skills to test."}),(0,l.jsx)("p",{children:(0,l.jsx)(u(),{href:"/login",children:(0,l.jsx)("a",{className:"button",children:"Sign In / Sign Up"})})})]})]}),(0,l.jsx)(m.M,{sticky:!0,children:"Battles"}),(0,l.jsx)("div",{className:"item__content",children:(0,l.jsxs)("div",{className:"battles-container",children:[(0,l.jsxs)("div",{className:z().homepageTileContainer,children:[(0,l.jsxs)("div",{className:"".concat(z().liveCounterTile," ").concat(z().homeTile),children:[(0,l.jsx)("p",{className:z().liveCounterEmoji,children:I}),(0,l.jsx)("p",{className:z().liveCounter,children:B}),(0,l.jsx)("p",{children:"Players Online"})]}),(0,l.jsx)("div",{className:"".concat(z().learnTile," ").concat(z().homeTile),children:(0,l.jsxs)(A.VStack,{gap:"0.5rem",children:[(0,l.jsxs)(W.h,{noShadow:!0,size:"2.7rem",children:[(0,l.jsxs)("span",{style:{textTransform:"none",fontSize:"0.8em"},children:["CSSBattle's"," "]}),'"Learn"']}),(0,l.jsxs)(A.HStack,{children:[(0,l.jsx)("p",{children:"Want to learn CSS before you battle?"}),(0,l.jsx)("a",{class:"button button--cssbattle",href:"/learn",children:"Learn CSS"})]})]})}),(0,l.jsxs)("div",{className:"".concat(z().customBattle," ").concat(z().homeTile),children:[(0,l.jsxs)(A.HStack,{gap:"1rem",justify:"space-between",align:"center",wrap:!0,children:[(0,l.jsx)("div",{children:(0,l.jsx)("h2",{className:z().customBattle_name,children:"Custom Battles"})}),(0,l.jsx)(A.HStack,{gap:"1rem",children:e&&x?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(u(),{href:"/my-battles",children:(0,l.jsxs)("a",{className:"button",children:["My Custom Battles (",p.length,")"]})}),(0,l.jsx)(g.z,{onClick:function(){i(!0)},children:"Host Battle"})]}):(0,l.jsx)("p",{children:"Sign In to host a battle"})})]}),(0,l.jsxs)("p",{children:["Hosting a conference, meetup, company engineering event or just want to have some nerd fun?"," ",(0,l.jsx)("a",{href:"/blog/introducing-custom-battles",className:"link",target:"_blank",children:"Read more about Custom Battles"}),"."]})]})]}),v||N?(0,l.jsx)(T,{battle:h.battles[h.battles.length-1]}):null,e&&x&&!v?(0,l.jsx)(R,{}):null,(0,l.jsx)("a",{href:(0,y.nX)("https://bytes.dev/?r=cssbattle",90),target:"_blank",rel:"noopener",style:(w={display:"block"},(0,s.Z)(w,"display","flex"),(0,s.Z)(w,"justifyContent","center"),(0,s.Z)(w,"margin","4rem 0"),w),children:(0,l.jsx)("img",{style:{maxWidth:"90%"},src:"/images/uidev-banner-home.jpg"})}),(0,l.jsx)(T,{battle:h.battles[h.battles.length-2]}),b.map((function(e){return(0,l.jsx)(T,{battle:e},e.id)}))]})})]}),(0,l.jsx)("div",{className:"container__item container__item--aside container__item--sticky",children:(0,l.jsxs)("div",{className:z().halfAndHalf,children:[(0,l.jsx)("div",{children:(0,l.jsx)(F,{})}),(0,l.jsx)("div",{children:(0,l.jsx)(L.E,{})})]})}),(0,l.jsx)(Z.w,{isOpen:n,onRequestClose:function(){return i(!1)}})]})}},2142:function(e,t,n){"use strict";n.d(t,{n:function(){return a}});var a=[{id:"1",name:"Web Maker",tagLine:"An offline and blazing fast frontend playground",link:"https://webmaker.app/?utm_source=cssbattle&utm_medium=referral",img:"https://webmaker.app/images/thumb_430.png",levelIds:[14],startDate:"May 8 2019 16:30:00 GMT+0530",endDate:"Sep 30 2019 16:40:00 GMT+0530"},{id:"2",name:"sitepoint.com",tagLine:"Learn HTML, CSS, JavaScript, PHP, Ruby & Responsive Design with 300+ books and courses",link:"https://www.sitepoint.com?utm_source=css-battles&utm_medium=referral&utm_campaign=logo-battle",img:"/sponsors/2.png",levelIds:[21],startDate:"June 12 2019 16:30:00 GMT+0530",endDate:"July 3 2019 16:40:00 GMT+0530"},{id:"3",name:"usepastel.com",tagLine:"Pastel is a visual feedback and collaboration tool for teams building websites and web apps",link:"https://usepastel.com?utm_source=cssbattle&utm_campaign=cssbattle_sponsorship",img:"/sponsors/3.png",levelIds:[53],startDate:"June 9 2020 16:30:00 GMT+0530",endDate:"July 9 2020 16:40:00 GMT+0530"},{id:"4",name:"ImprovMX.com",tagLine:"Free email forwarding for your domain name. Send and receive from custom aliases without having to pay for a Gsuite membership.",link:"https://improvmx.com?utm_source=cssbattle&utm_campaign=cssbattle_sponsorship",img:"/sponsors/4.png",levelIds:[61],startDate:"Nov 21 2020 16:30:00 GMT+0530",endDate:"Dec 21 2020 16:40:00 GMT+0530"},{id:"5",name:"PushOwl",tagLine:"Convert your one-time visitors into loyal customers with push notifications.",link:"https://pushowl.com?utm_source=cssbattle&utm_campaign=cssbattle_sponsorship",img:"/sponsors/5.png",levelIds:[69],startDate:"Mar 2 2021 16:30:00 GMT+0530",endDate:"Apr 1 2021 16:30:00 GMT+0530"},{id:"6",name:"Odoo",tagLine:"The #1 open-source Website Builder",link:"https://www.odoo.com/app/website?utm_source=CSSBattle&utm_medium=cpc-social&utm_campaign=website",img:"/sponsors/6.png",levelIds:[81],startDate:"Sep 21 2021 16:30:00 GMT+0530",endDate:"Oct 21 2021 16:30:00 GMT+0530"},{id:"7",name:"Arineo",tagLine:"Join our developer team for next-level code battles in our ERP and e-commerce projects!",link:"https://arineo.com/en",img:"/sponsors/7.png",levelIds:[117],startDate:"Aug 04 2022 16:30:00 GMT+0530",endDate:"Sep 02 2022 16:30:00 GMT+0530"},{id:"8",name:"Root Learn",tagLine:"Learn Web Development in a live online cohort with a global community. Become a hireable junior developer in 9 weeks.",link:"https://www.rootlearn.com/bootcamp/web-dev?source=cssbattle",linkHome:"https://www.rootlearn.com/bootcamp/web-dev?source=cssbattlebanner",linkTarget:"https://www.rootlearn.com/bootcamp/web-dev?source=cssbattletarget",img:"/sponsors/8.png",levelIds:[125],startDate:"Sep 05 2022 16:30:00 GMT+0530",endDate:"Oct 02 2022 16:30:00 GMT+0530"}]},4136:function(){},4221:function(e){e.exports={BattleTile:"BattleTile_BattleTile__Wph4_",BattleTile___ongoing:"BattleTile_BattleTile___ongoing__Ale77",BattleTile___upcoming:"BattleTile_BattleTile___upcoming__DavxF",BattleTile_content:"BattleTile_BattleTile_content___H6wq",BattleTile_desc:"BattleTile_BattleTile_desc__2foeh",BattleTile_name:"BattleTile_BattleTile_name__MqgE6",BattleTile_leaders:"BattleTile_BattleTile_leaders__CJ_1M",BattleTile_info:"BattleTile_BattleTile_info__6_GSN",BattleTile_header:"BattleTile_BattleTile_header___L_Xt",BattleTile_countdown:"BattleTile_BattleTile_countdown__5GEcZ",BattleTile_targets:"BattleTile_BattleTile_targets__Sen5k",BattleTile_target:"BattleTile_BattleTile_target__cFrfn"}},3781:function(e){e.exports={halfAndHalf:"Homepage_halfAndHalf__aOimb",homepageTileContainer:"Homepage_homepageTileContainer__kHUUH",homeTile:"Homepage_homeTile__wGEl5",customBattle:"Homepage_customBattle__3KfvQ",customBattleHighlighted:"Homepage_customBattleHighlighted__q5lok",customBattle_name:"Homepage_customBattle_name__2rMne",liveCounterTile:"Homepage_liveCounterTile__pcCjZ",liveCounter:"Homepage_liveCounter__0oZ7g",liveCounterEmoji:"Homepage_liveCounterEmoji__xMfRJ",learnTile:"Homepage_learnTile__SJjw7"}}},function(e){e.O(0,[154,424,836,774,888,179],(function(){return t=5356,e(e.s=t);var t}));var t=e.O();_N_E=t}]);
//# sourceMappingURL=index-7bbba59bf198f64c.js.map